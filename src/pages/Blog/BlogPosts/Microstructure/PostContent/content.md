##### Introdução

###### _Objetivo Geral_

Dentre as características que influenciam nas propriedades mecânicas de uma peça metálica, destaca-se a microestrutura resultante ao final do processo de fabricação. A fim de auxiliar na escolha dos parâmetros a serem utilizados nesses processos, este trabalho se dedica a encontrar meios para simular a composição morfológica final da microestrutura do material processado, tendo como objetivo a implementação de uma ferramenta web capaz de realizar de forma prática e acessível tal simulação.

<img alt="Worley Noise" title="Worley Noise" style="width: 100%" src="https://trello-attachments.s3.amazonaws.com/5c7e19a8679c4b3e46bd66ee/5f58254dfc4a193807fa3cf5/4d9164122587cf70d75a3f805c01666f/mi.gif"/><br/><br/>

##### Revisão Bibliográfica

Com a finalidade de compreender o estado da arte no que tange a simulação microestrutural, em especial com relação aos processos de manufatura aditiva a laser, foi realizada uma breve revisão bibliográfica sobre o tema. Como resultado obteve-se os seguintes artigos:

[3D simulations of microstructure and comparison with experimental microstructure coming from O.I.M analysis](https://doi.org/10.1016/j.ijplas.2007.10.004)

[Three-dimensional microstructural evolution in ideal grain growth—general statistics](https://www.sciencedirect.com/science/article/abs/pii/S135964549900405X)

[Evolution of Individual Grains in 3d Microstructure Generated by Computational Simulation of Transformations Involving Two Phases](https://doi.org/10.4028/www.scientific.net/MSF.930.305)

Em seguida, foi empenhada uma busca pelos principais softwares capazes de realizar simulação microestrutural, foram encontrados os seguintes:

No início do projeto, foram definidas as restrições e requisitos que
o teste precisaria atender, conforme descrito nos tópicos a seguir.

###### _Micres_

Software proprietário baseado nos modelos de composição de fase do Thermo-Calc em conjunto com modelos de modelagem cinemática. Possui boa usabilidade em relação aos demais softwares testados e satisfatório suporte da comunidade de usuários.

###### _LAMMPS_

Ferramenta poderosa de simulação de dinâmica molecular open source. Apresenta dificuldades na utilização por não possuir interface de usuário, necessitando o desenvolvimento de um código específico para cada simulação.

###### _Digimu_

###### _Thermo-Calc_

##### Materiais e Métodos

Para realizar a implementação de uma tela para a visualização dos grãos de uma microestrutura foram utilizados os recursos de ferramentas web baseadas em JavaScript como o React.js e o P5.js, além de conceitos da função de ruído Worley Noise.

###### _Primeira etapa_

A função de ruído Worlei Noise produz uma textura procedural que se assemelha ao
que é observado em diversas morfologias microestruturais em metais.

<img alt="Worley Noise" title="Worley Noise" style="width: 100%" src="https://trello-attachments.s3.amazonaws.com/5c7e19a8679c4b3e46bd66ee/5f58254dfc4a193807fa3cf5/8437307eac5b61312ae7407a1a7270b8/image.png"/><br/>

<center> Figura 1 - Worley Noise </center>
<br/>

A função é caracterizada por um vetor V[n] de pontos distribuídos num espaço bi ou tridimensional e, de acordo com a distância calculada entre cada ponto da tela até o enésimo ponto de V mais próximo, define-se a coloração e intensidade de cor do ponto.

Partindo do [código original](https://github.com/CodingTrain/website/tree/master/challenges/coding-in-the-cabana/004_worley_noise) de ruído Worlei desenvolvida por [CodingTrain](https://github.com/CodingTrain), foram feitas alterações para que cada ponto gerado pelo código correspondesse a um “núcleo” de fase sólida distantes do plano xy(correspondente à tela) em z. Ao longo da execução do programa os pontos decrescem seu valor em z, aproximando-os do plano xy e assim reproduzindo o efeito de crescimento de grão.

A primeira parte do código é responsável por criar a tela nas dimensões desejadas e declarar um vetor de pontos, distribuindo-os aleatoriamente pelo plano xy.

<img alt="Worley Noise" title="Worley Noise" style="width: 53.56%" src="https://trello-attachments.s3.amazonaws.com/5f58254dfc4a193807fa3cf5/616x199/08f5b0a1c3004f7f3b2197a14205a6ff/parte1.png"/><br/>

Em seguida, inicia-se a varredura de cada um dos pixels da tela, calculando e armazenando a distância deste até os pontos do vetor (observe que nesta etapa da rotina o valor da coordenada z decrece com o tempo, utilizando a contagem de atualização dos quadros FrameCount). Então, ordena-se as distâncias calculadas, permitindo que se defina a intensidade da coloração do pixel de acordo com a sua distância ao ponto mais proximo.

<img alt="Worley Noise" title="Worley Noise" style="width: 100%" src="https://trello-attachments.s3.amazonaws.com/5f58254dfc4a193807fa3cf5/1150x668/d30c3356cc9183eaa9da790a637af2c9/parte2.png"/><br/>

Finalizada a rotina de crescimento de grão, quando o contador atinge 210 quadros, realiza-se novamente o mesmo procedimento da etapa anterior utilizando o último valor da coordenada z dos pontos.

<img alt="Worley Noise" title="Worley Noise" style="width: 52%" src="https://trello-attachments.s3.amazonaws.com/5f58254dfc4a193807fa3cf5/603x388/b30e6c752451867c309ddf6b6a8b5032/parte3.png"/><br/>
